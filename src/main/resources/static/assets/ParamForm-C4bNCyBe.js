import{s as o}from"./request-DFXc9TFQ.js";import{d as _,u as I,J as C,c as K,w as L,o as U,a as s,j as w,b as l,F as V,f as $,e as m,g as k,A as g,h as i}from"./index-BHJqyt07.js";const H=e=>o.get(`/eventlistener/workflowList/${e}`);function T(e){return o.get(`/workflow/name/duplicate?workflowName=${e}`)}function R(e){return o.get(`/workflow/template/${e}`)}function Y(){return o.get("/workflow/workflowStageList")}function F(e,c){return o.get(`/eventlistener/workflowDetail/${e}/${c}`)}function z(e){return o.post("/workflow",e)}function J(e){return o.patch(`/workflow/${e.workflowInfo.workflowIdx}`,e)}function O(e){return o.delete(`/workflow/${e}`)}function q(e){return o.post("/workflow/run",e)}function G(e){return o.get(`/workflow/log/${e}`)}function Q(e){return o.get(`/workflow/runHistory/${e}`)}function X(e){return o.get(`/workflow/stageHistory/${e.workflowIdx}?buildIdx=${e.buildName}&nodeIdx=${e.stageIdx}`)}const M={key:0,class:"mt-5 mb-5"},P={class:"grid gap-0 column-gap-3 mb-2"},x=["onUpdate:modelValue","disabled","onBlur"],E=["onUpdate:modelValue","disabled"],W={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-plus",style:{margin:"0 !important"}},S=["onClick"],B={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-minus",style:{margin:"0 !important"}},D=_({__name:"ParamForm",props:{popup:{type:Boolean},workflowParamData:{},eventListenerYn:{}},setup(e){const c=I(),p=C(),a=e,t=K(()=>a.workflowParamData),v=n=>{t.value[n].paramKey.toUpperCase()==="NAMESPACE"?t.value[n].paramValue=p.projectInfo.ns_id:t.value[n].paramKey.toUpperCase()==="MCI"?t.value[n].paramValue=p.projectInfo.mci_id:t.value[n].paramKey.toUpperCase()==="CLUSTER"&&(t.value[n].paramValue=p.projectInfo.cluster_id)};L(()=>t.value,()=>{}),U(()=>{h()});const h=()=>{t.value.length===0&&t.value.push({paramIdx:0,paramKey:"",paramValue:"",eventListenerYn:a.eventListenerYn})},y=()=>{t.value.push({paramIdx:0,paramKey:"",paramValue:"",eventListenerYn:a.eventListenerYn})},b=n=>{t.value.length!==1?t.value.splice(n,1):c.error("비워두셔도 됩니다.")};return(n,u)=>t.value?(i(),s("div",M,[u[2]||(u[2]=l("label",{class:"form-label"}," Parameter ",-1)),(i(!0),s(V,null,$(t.value,(r,f)=>(i(),s("div",{key:f},[l("div",P,[m(l("input",{class:g(["form-control p-2",a.popup?"g-col-6":"g-col-5"]),type:"text",placeholder:"Key","onUpdate:modelValue":d=>r.paramKey=d,disabled:a.popup||r.paramKey.toUpperCase()==="MCI"||r.paramKey.toUpperCase()==="CLUSTER"||r.paramKey.toUpperCase()==="NAMESPACE",onBlur:d=>v(f)},null,42,x),[[k,r.paramKey]]),m(l("input",{class:g(["form-control p-2",a.popup?"g-col-6":"g-col-5"]),type:"text",placeholder:"Value","onUpdate:modelValue":d=>r.paramValue=d,disabled:r.paramKey==="MCI"||r.paramKey==="CLUSTER"||r.paramKey==="NAMESPACE"},null,10,E),[[k,r.paramValue]]),a.popup?w("",!0):(i(),s("button",{key:0,class:"btn btn-primary",onClick:y,style:{"text-align":"center !important"}},[(i(),s("svg",W,u[0]||(u[0]=[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),l("path",{d:"M12 5l0 14"},null,-1),l("path",{d:"M5 12l14 0"},null,-1)])))])),a.popup?w("",!0):(i(),s("button",{key:1,class:"btn btn-primary",onClick:d=>b(f)},[(i(),s("svg",B,u[1]||(u[1]=[l("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},null,-1),l("path",{d:"M5 12l14 0"},null,-1)])))],8,S))])]))),128))])):w("",!0)}}),j=(e,c)=>{const p=e.__vccOpts||e;for(const[a,t]of c)p[a]=t;return p},Z=j(D,[["__scopeId","data-v-baf35c1a"]]);export{Z as P,j as _,F as a,G as b,Y as c,O as d,X as e,Q as f,H as g,T as h,z as i,R as j,q as r,J as u};
